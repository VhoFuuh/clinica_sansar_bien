{% extends "base.html" %}

{% block title %}{{ 'Editar Paciente' if editar else 'Registrar Paciente' }}{% endblock %}

{% block content %}
  <div class="container mt-4">
    <h2>{{ 'Editar Paciente' if editar else 'Registrar Paciente' }}</h2>
    <form method="POST"
          action="{% if editar %}
                     {{ url_for('paciente.editar_paciente', id=paciente.id) }}
                  {% else %}
                     {{ url_for('paciente.registrar_paciente') }}
                  {% endif %}">
      {{ form.hidden_tag() }}

    <div class="mb-3">
        {{ form.nombre.label(class="form-label") }}
        {{ form.nombre(class="form-control") }}
    </div>

    <div class="mb-3">
        {{ form.rut.label(class="form-label") }}
        {{ form.rut(class="form-control") }}
    </div>

    <div class="mb-3">
        {{ form.fecha_nacimiento.label(class="form-label") }}
        {{ form.fecha_nacimiento(class="form-control") }}
    </div>

    <div class="mb-3">
        {{ form.sexo.label(class="form-label") }}
        {{ form.sexo(class="form-select") }}
    </div>

    <div class="mb-3">
        {{ form.telefono.label(class="form-label") }}
        {{ form.telefono(class="form-control") }}
    </div>

    <div class="mb-3">
        {{ form.email.label(class="form-label") }}
        {{ form.email(class="form-control") }}
    </div>

    <div class="mb-3">
        {{ form.direccion.label(class="form-label") }}
        {{ form.direccion(class="form-control") }}
    </div>

      <button type="submit"
              class="btn {{ 'btn-primary' if editar else 'btn-success' }}">
        {{ 'Guardar Cambios' if editar else 'Registrar Paciente' }}
      </button>
      {% if editar %}
      <a href="{{ url_for('paciente.lista_pacientes') }}"
         class="btn btn-secondary">Cancelar</a>
      {% endif %}
    </form>
  </div>
{% endblock %}